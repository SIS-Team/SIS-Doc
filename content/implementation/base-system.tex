\subsection{Basis-System}
Das Basissystem ist relativ simple gehalten.\\
\subsubsection{Konfiguration}
Die erste - und wohl auch wichtigste - Datei des Basis-Systems ist die Datei /config.php, diese soll unter anderem das Problem des Wurzelverzeichnisses lösen (siehe \gref{sec:content_solutions_root}).
\lstinputlisting[style=custom, language=php, caption={/config.php}, label={lst:content_imple_base_config}]{sources/base/config.php}
In dieser werden drei Konstanten definiert:
\begin{description}
	\item[\texttt{BETA}] ist \texttt{true} solange das System im Testbetrieb ist.
	\item\texttt{[RELATIVE\_ROOT}] beinhaltet den relativen Pfad vom Grundverzeichnis des virtuellen Hosts (vorgegeben durch den Webserver) zum Grundverzeichnis des Projektes. Hierbei ist zubachten, dass das erste Querstrich-Zeichen wegzulassen ist.\\
	\textit{Beispiel:} Ist das Grundverzeichnis des virtuellen Hosts bereits das Wurzelverzeichnis des Projektes, so muss der String "'"' verwendet werden.\\
	\textit{Beispiel:} Befindet sich das Projekt im Ordner \enquote{foobar} unterhalb des Grundverzeichnisses des virtuellen Hosts, so ist der betreffende String "'\texttt{foobar/}"'.
	\item[\texttt{ROOT\_LOCATION}] beinhaltet den absoluten Pfad vom Grundverzeichnis des Servers zum Projektverzeichnis. Dieser wird aus dem \texttt{DOCUMENT\_ROOT}, also dem Grundverzeichnis des virtuellen Hosts, und dem relativen Pfad des Projekt-Ordners zum \texttt{DOCUMENT\_ROOT} gebildet.
\end{description}

\subsubsection{Main-File}
Die quasi Hauptdatei des Basis-Systems stellt die Datei /modules/general/Main.php dar. Diese bindet weitere wichtige Dateien des Grundsystems ein, dies soll das Einbinden der wichtigsten Module erleichtern.
\lstinputlisting[style=custom, language=php, caption={/modules/general/Main.php; Zeilen 8-12},  label={lst:content_imple_base_main}, firstline=8, lastline=12, firstnumber=8]{sources/base/Main.php}
Es werden folgende Module des Basis-Systems eingebunden:
\begin{itemize}
	\item CheckCookies, siehe \autoref{sec:content_imple_base_cookie}
	\item ForceHTTPS, siehe \autoref{sec:content_imple_base_https}
	\item SessionManager, siehe \autoref{sec:content_imple_base_session}
	\item Connect, siehe \autoref{sec:content_imple_base_connect}
	\item Site, siehe \autoref{sec:content_imple_base_site}
\end{itemize}

\subsubsection{CheckCookie}
\label{sec:content_imple_base_cookie}
Das Modul CheckCookie prüft, ob die Cookies erlaubt sind, und leitet gegebenenfalls auf die Cookies-Akzeptieren-Seite (/cookies/) weiter. Zusätzlich wird das \enquote{Allow-Cookies}-Cookie erneuert (das Ablaufdatum wird 100 Tage in die Zukunft gesetzt).
\lstinputlisting[style=custom, language=php, caption={/modules/general/CheckCookie.php; Zeilen 9-13},  label={lst:content_imple_base_cookie}, firstline=9, lastline=13, firstnumber=9]{sources/base/CheckCookie.php}
Wie im Quellcode ersichtlich ist, wird die \texttt{REQUEST\_URI}, also die URL inklusive GET-Paremeter und Fragmentbezeichner der aktuellen Seite, der Cookies-Akzeptieren-Seite als GET-Parameter mitgegeben. Dies dient dazu, dass die Cookies-Akzeptieren-Seite den Benutzer nach dem Akzeptieren wieder auf die ursprüngliche Seite zurückschicken kann.
%
%
% \lstinputlisting[style=custom, language=php, caption={Dateiname}, label={lst:content_imple_timetables_labelname}]{sources/ordner/datei.php}
%
% Als weitere Eigenschaft kannst du die Zeilen angeben: [firstline=300, lastline=500]
% Damit nicht alles reinkopiert wird.